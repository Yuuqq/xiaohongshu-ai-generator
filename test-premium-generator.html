<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç²¾ç¾å¡ç‰‡ç”Ÿæˆå™¨æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 2px solid #f0f0f0;
            border-radius: 15px;
        }

        .test-section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .input-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
            resize: vertical;
            min-height: 120px;
        }

        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: #e9ecef;
        }

        .result-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .result-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
        }

        .result-card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .svg-preview {
            width: 100%;
            max-width: 375px;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: white;
        }

        .prompt-display {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.4;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .error {
            background: #fee;
            border: 1px solid #fcc;
            color: #c33;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .success {
            background: #efe;
            border: 1px solid #cfc;
            color: #3c3;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .result-section {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¨ ç²¾ç¾å¡ç‰‡ç”Ÿæˆå™¨æµ‹è¯•</h1>
            <p>æµ‹è¯•åŸºäºç”¨æˆ·ä¼˜åŒ–å»ºè®®çš„æ–°ä¸€ä»£å°çº¢ä¹¦å¡ç‰‡ç”Ÿæˆç³»ç»Ÿ</p>
        </div>

        <div class="test-section">
            <h2>ğŸ“ å†…å®¹è¾“å…¥</h2>
            <div class="input-group">
                <label for="testContent">æµ‹è¯•å†…å®¹ï¼š</label>
                <textarea id="testContent" placeholder="è¾“å…¥è¦ç”Ÿæˆå¡ç‰‡çš„å†…å®¹...">ğŸš€ Introducing NSA: A Hardware-Aligned and Natively Trainable Sparse Attention mechanism for ultra-fast long-context training & inference!

Core components of NSA:
â€¢ Dynamic hierarchical sparse strategy
â€¢ Coarse-grained token compression
â€¢ Fine-grained token selection

Performance highlights:
â€¢ Reading speed: 6.6 TiB/s
â€¢ Sorting performance: 3.66 TiB/min
â€¢ KVCache query: 40+ GiB/s
â€¢ Cluster scale: 180 nodes

Why this matters:
â€¢ Makes AI model training and inference data management more efficient
â€¢ Supports data preprocessing, loading and checkpoint storage
â€¢ Faster vector search and inference KVCache queries
â€¢ Separated architecture ensures data consistency

Open source: github.com/deepseek-ai/3FS</textarea>
            </div>

            <div class="input-group">
                <label for="templateSelect">é€‰æ‹©æ¨¡æ¿ï¼š</label>
                <select id="templateSelect">
                    <option value="tech-premium">ğŸš€ æŠ€æœ¯ç²¾ç¾å¡ç‰‡</option>
                    <option value="lifestyle-premium">ğŸŒ¸ ç”Ÿæ´»ç²¾ç¾å¡ç‰‡</option>
                </select>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="generatePremiumCard()">ğŸ¨ ç”Ÿæˆç²¾ç¾å¡ç‰‡</button>
                <button class="btn btn-secondary" onclick="generatePrompt()">ğŸ“ ç”Ÿæˆæç¤ºè¯</button>
                <button class="btn btn-secondary" onclick="clearResults()">ğŸ—‘ï¸ æ¸…ç©ºç»“æœ</button>
            </div>
        </div>

        <div id="results" class="result-section" style="display: none;">
            <div class="result-card">
                <h3>ğŸ–¼ï¸ ç”Ÿæˆçš„å¡ç‰‡</h3>
                <div id="svgPreview"></div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-secondary" onclick="downloadSVG()">ğŸ’¾ ä¸‹è½½SVG</button>
                    <button class="btn btn-secondary" onclick="copyToClipboard()">ğŸ“‹ å¤åˆ¶ä»£ç </button>
                </div>
            </div>

            <div class="result-card">
                <h3>ğŸ“‹ ç”Ÿæˆçš„æç¤ºè¯</h3>
                <div id="promptDisplay" class="prompt-display"></div>
            </div>
        </div>

        <div id="loading" class="loading" style="display: none;">
            <p>ğŸ¨ æ­£åœ¨ç”Ÿæˆç²¾ç¾å¡ç‰‡...</p>
        </div>

        <div id="messages"></div>
    </div>

    <!-- å¼•å…¥å¿…è¦çš„è„šæœ¬ -->
    <script src="assets/js/premium-card-generator.js"></script>
    <script src="assets/js/premium-prompt-engine.js"></script>

    <script>
        let currentSVG = '';
        let currentPrompt = '';

        function showMessage(message, type = 'info') {
            const messagesDiv = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = type;
            messageDiv.textContent = message;
            messagesDiv.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }

        function showLoading(show = true) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
        }

        function showResults(show = true) {
            document.getElementById('results').style.display = show ? 'grid' : 'none';
        }

        async function generatePremiumCard() {
            const content = document.getElementById('testContent').value.trim();
            const templateId = document.getElementById('templateSelect').value;

            if (!content) {
                showMessage('è¯·è¾“å…¥æµ‹è¯•å†…å®¹', 'error');
                return;
            }

            try {
                showLoading(true);
                showResults(false);

                // ç”Ÿæˆç²¾ç¾å¡ç‰‡
                const result = await window.premiumCardGenerator.generatePremiumCard(content, templateId);
                
                currentSVG = result.svg;
                
                // æ˜¾ç¤ºSVGé¢„è§ˆ
                const previewDiv = document.getElementById('svgPreview');
                previewDiv.innerHTML = result.svg;

                // ç”Ÿæˆå¹¶æ˜¾ç¤ºæç¤ºè¯
                const prompt = window.premiumPromptEngine.generatePremiumPrompt(
                    content, 
                    { id: templateId }, 
                    { name: 'ä¸“ä¸šå‹å¥½', description: 'ä¸“ä¸šè€Œæ˜“æ‡‚' }
                );
                
                currentPrompt = prompt;
                document.getElementById('promptDisplay').textContent = prompt;

                showResults(true);
                showMessage('ç²¾ç¾å¡ç‰‡ç”ŸæˆæˆåŠŸï¼', 'success');

            } catch (error) {
                console.error('ç”Ÿæˆå¤±è´¥:', error);
                showMessage(`ç”Ÿæˆå¤±è´¥: ${error.message}`, 'error');
            } finally {
                showLoading(false);
            }
        }

        async function generatePrompt() {
            const content = document.getElementById('testContent').value.trim();
            const templateId = document.getElementById('templateSelect').value;

            if (!content) {
                showMessage('è¯·è¾“å…¥æµ‹è¯•å†…å®¹', 'error');
                return;
            }

            try {
                const prompt = window.premiumPromptEngine.generatePremiumPrompt(
                    content, 
                    { id: templateId }, 
                    { name: 'ä¸“ä¸šå‹å¥½', description: 'ä¸“ä¸šè€Œæ˜“æ‡‚' }
                );
                
                currentPrompt = prompt;
                document.getElementById('promptDisplay').textContent = prompt;
                
                // åªæ˜¾ç¤ºæç¤ºè¯éƒ¨åˆ†
                document.getElementById('svgPreview').innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">ç‚¹å‡»"ç”Ÿæˆç²¾ç¾å¡ç‰‡"æŸ¥çœ‹SVGé¢„è§ˆ</p>';
                showResults(true);
                showMessage('æç¤ºè¯ç”ŸæˆæˆåŠŸï¼', 'success');

            } catch (error) {
                console.error('ç”Ÿæˆæç¤ºè¯å¤±è´¥:', error);
                showMessage(`ç”Ÿæˆæç¤ºè¯å¤±è´¥: ${error.message}`, 'error');
            }
        }

        function clearResults() {
            showResults(false);
            currentSVG = '';
            currentPrompt = '';
            document.getElementById('messages').innerHTML = '';
            showMessage('ç»“æœå·²æ¸…ç©º', 'success');
        }

        function downloadSVG() {
            if (!currentSVG) {
                showMessage('æ²¡æœ‰å¯ä¸‹è½½çš„SVG', 'error');
                return;
            }

            const blob = new Blob([currentSVG], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `premium-card-${Date.now()}.svg`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showMessage('SVGä¸‹è½½æˆåŠŸï¼', 'success');
        }

        function copyToClipboard() {
            if (!currentSVG) {
                showMessage('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹', 'error');
                return;
            }

            navigator.clipboard.writeText(currentSVG).then(() => {
                showMessage('SVGä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼', 'success');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                showMessage('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            showMessage('ç²¾ç¾å¡ç‰‡ç”Ÿæˆå™¨å·²å°±ç»ªï¼', 'success');
        });
    </script>
</body>
</html>
